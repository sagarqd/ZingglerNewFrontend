import{k as s,a0 as m,j as e,aS as g,ae as p,G as t,C as j,B as f,S as y,d as n,a4 as v,t as w,ad as E}from"./index-jfPFzjbI.js";import{L as b}from"./Link-n2lUMppv.js";const P=()=>{s.useState(Array(6).fill(""));const[a,d]=s.useState(""),[o,u]=s.useState(""),[i,l]=s.useState(10),x=m();s.useRef([]),s.useEffect(()=>{if(i>0){const r=setInterval(()=>{l(c=>c>0?c-1:0)},1e3);return()=>clearInterval(r)}},[i]);const h=async()=>{try{if(!a)throw new Error("Please enter a valid email address.");if((await E.post("http://localhost:8080/api/forgot-password",{email:a})).status===200)console.log("OTP sent successfully"),l(10),localStorage.setItem("email",a),x("/recovery-email-verify");else throw new Error("Failed to send OTP")}catch(r){console.error("Error sending OTP:",r),u("Failed to send OTP. Please try again.")}};return e.jsxs(g,{maxWidth:"lg",sx:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column","@media (max-width: 600px)":{justifyContent:"center"}},children:[e.jsx(b,{"aria-label":"theme logo",href:"/pages/forgot-password",sx:{mb:4},children:e.jsx(p,{})}),e.jsx(t,{container:!0,spacing:2,justifyContent:"center",children:e.jsx(t,{item:!0,xs:12,md:6,lg:7,children:e.jsx(j,{elevation:3,sx:{p:4,boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.2)"},children:e.jsx(f,{children:e.jsxs(t,{container:!0,spacing:2,children:[e.jsx(t,{item:!0,xs:12,children:e.jsx(t,{container:!0,direction:"column",alignItems:"center",justifyContent:"space-between",children:e.jsx(t,{item:!0,sx:{mt:4},children:e.jsxs(y,{spacing:2,alignItems:"center",textAlign:"center",children:[e.jsx(n,{variant:"h2",gutterBottom:!0,children:"Forgot Password"}),e.jsx(n,{variant:"h5",gutterBottom:!0,children:"Always keep your account secure and donâ€™t forget to update it"})]})})})}),e.jsxs(t,{item:!0,xs:12,sx:{mt:4},children:[e.jsx(n,{variant:"body1",gutterBottom:!0,sx:{mb:2},children:"Enter Your Registered Email Account :"}),e.jsx(v,{label:"Email Address",type:"email",fullWidth:!0,variant:"outlined",value:a,onChange:r=>d(r.target.value)})]}),e.jsx(t,{item:!0,xs:12,sx:{mb:4},children:e.jsx(w,{variant:"contained",color:"secondary",fullWidth:!0,size:"large",onClick:h,children:"Continue"})}),o&&e.jsx(t,{item:!0,xs:12,children:e.jsx(n,{variant:"body2",color:"error",children:o})})]})})})})})]})};export{P as default};
