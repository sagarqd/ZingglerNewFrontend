import{$ as m,a0 as z,u as $,X as E,a1 as G,k as u,j as e,G as r,B as o,d as l,a2 as H,a3 as g,a4 as C,a5 as b,a6 as I,a7 as k,a8 as j,a9 as _,aa as V,ab as y,ac as O,t as Q,ad as X,ae as Z,S as J,D as K}from"./index-jfPFzjbI.js";import{F as U,A as Y,a as ee,b as te}from"./AuthFooter-Dk-l6gVd.js";import{d as re}from"./Visibility-KP81lIWL.js";import{d as se}from"./VisibilityOff-93xk6HZ1.js";import{I as ne}from"./IconButton-B7JpJvwz.js";import{C as ae}from"./Checkbox-C8FiwUyA.js";import"./Link-n2lUMppv.js";const ie=s=>new RegExp(/[0-9]/).test(s),oe=s=>new RegExp(/[a-z]/).test(s)&&new RegExp(/[A-Z]/).test(s),le=s=>new RegExp(/[!#@$%^&*)(+=._-]/).test(s),ce=s=>s<2?{label:"Poor",color:m.errorMain}:s<3?{label:"Weak",color:m.warningDark}:s<4?{label:"Normal",color:m.orangeMain}:s<5?{label:"Good",color:m.successMain}:s<6?{label:"Strong",color:m.successDark}:{label:"Poor",color:m.errorMain},de=s=>{let a=0;return s.length>5&&(a+=1),s.length>7&&(a+=1),ie(s)&&(a+=1),le(s)&&(a+=1),oe(s)&&(a+=1),a},me=({...s})=>{const a=z(),x=$(),A=E(x.breakpoints.down("md"));G(t=>t.customization);const[f,q]=u.useState(!1),[F,P]=u.useState(!0),[S,w]=u.useState(null),[R,B]=u.useState(0),[c,D]=u.useState(null),M=()=>{q(!f)},N=t=>{t.preventDefault()},v=t=>{const n=de(t);B(n),D(ce(n))};u.useEffect(()=>{v("123456")},[]);const W=async t=>{try{const n=await X.post("http://localhost:8080/api/auth/register",t);console.log("Registration successful:",n.data),localStorage.setItem("email",t.email),localStorage.setItem("accessToken",n.data.token),a("/verify")}catch(n){n.response?(console.error("Server responded with an error:",n.response.data),w(n.response.data.message)):n.request?(console.error("Request was made but no response was received:",n.request),w("No response from server")):(console.error("Error setting up the request:",n.message),w("Request error")),console.error("Registration error:",n)}};return e.jsxs(e.Fragment,{children:[e.jsxs(r,{container:!0,direction:"column",justifyContent:"center",spacing:2,children:[e.jsx(r,{item:!0,xs:12,children:e.jsx(o,{sx:{alignItems:"center",display:"flex"}})}),e.jsx(r,{item:!0,xs:12,container:!0,alignItems:"center",justifyContent:"center",children:e.jsx(o,{sx:{mb:2},children:e.jsx(l,{variant:"subtitle1",children:"Sign up with Email address"})})})]}),e.jsx(U,{initialValues:{fname:"",lname:"",email:"",password:""},validationSchema:H().shape({fname:g().required("First Name is required"),lname:g().required("Last Name is required"),email:g().email("Must be a valid email").max(255).required("Email is required"),password:g().max(255).required("Password is required")}),onSubmit:(t,{setSubmitting:n})=>{const d={email:t.email,password:t.password,firstName:t.fname,lastName:t.lname};W(d)},children:({errors:t,handleBlur:n,handleChange:d,handleSubmit:T,isSubmitting:L,touched:i,values:h})=>e.jsxs("form",{noValidate:!0,onSubmit:T,...s,children:[e.jsxs(r,{container:!0,spacing:A?0:2,children:[e.jsx(r,{item:!0,xs:12,sm:6,children:e.jsx(C,{fullWidth:!0,label:"First Name",margin:"normal",name:"fname",type:"text",value:h.fname,onBlur:n,onChange:d,error:i.fname&&!!t.fname,helperText:i.fname&&t.fname,sx:{...x.typography.customInput}})}),e.jsx(r,{item:!0,xs:12,sm:6,children:e.jsx(C,{fullWidth:!0,label:"Last Name",margin:"normal",name:"lname",type:"text",value:h.lname,onBlur:n,onChange:d,error:i.lname&&!!t.lname,helperText:i.lname&&t.lname,sx:{...x.typography.customInput}})})]}),e.jsxs(b,{fullWidth:!0,error:!!(i.email&&t.email),sx:{...x.typography.customInput},children:[e.jsx(I,{htmlFor:"outlined-adornment-email-register",children:"Email Address"}),e.jsx(k,{id:"outlined-adornment-email-register",type:"email",value:h.email,name:"email",onBlur:n,onChange:d,inputProps:{}}),i.email&&t.email&&e.jsx(j,{error:!0,id:"standard-weight-helper-text--register",children:t.email})]}),e.jsxs(b,{fullWidth:!0,error:!!(i.password&&t.password),sx:{...x.typography.customInput},children:[e.jsx(I,{htmlFor:"outlined-adornment-password-register",children:"Password"}),e.jsx(k,{id:"outlined-adornment-password-register",type:f?"text":"password",value:h.password,name:"password",label:"Password",onBlur:n,onChange:p=>{d(p),v(p.target.value)},endAdornment:e.jsx(_,{position:"end",children:e.jsx(ne,{"aria-label":"toggle password visibility",onClick:M,onMouseDown:N,edge:"end",size:"large",children:f?e.jsx(re,{}):e.jsx(se,{})})}),inputProps:{}}),i.password&&t.password&&e.jsx(j,{error:!0,id:"standard-weight-helper-text-password-register",children:t.password})]}),R!==0&&e.jsx(b,{fullWidth:!0,children:e.jsx(o,{sx:{mb:2},children:e.jsxs(r,{container:!0,spacing:2,alignItems:"center",children:[e.jsx(r,{item:!0,children:e.jsx(o,{style:{backgroundColor:c==null?void 0:c.color},sx:{width:85,height:8,borderRadius:"7px"}})}),e.jsx(r,{item:!0,children:e.jsx(l,{variant:"subtitle1",fontSize:"0.75rem",children:c==null?void 0:c.label})})]})})}),e.jsx(r,{container:!0,alignItems:"center",justifyContent:"space-between",children:e.jsx(r,{item:!0,children:e.jsx(V,{control:e.jsx(ae,{checked:F,onChange:p=>P(p.target.checked),name:"checked",color:"primary"}),label:e.jsxs(l,{variant:"subtitle1",children:["Agree with Â ",e.jsx(l,{variant:"subtitle1",component:y,to:"#",children:"Terms & Condition."})]})})})}),t.submit&&e.jsx(o,{sx:{mt:3},children:e.jsx(j,{error:!0,children:t.submit})}),S&&e.jsx(o,{sx:{mt:3},children:e.jsx(j,{error:!0,children:S})}),e.jsx(o,{sx:{mt:2},children:e.jsx(O,{children:e.jsx(Q,{disableElevation:!0,disabled:L,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"secondary",children:"Sign up"})})})]})})]})},we=()=>{const s=E(a=>a.breakpoints.down("md"));return e.jsx(Y,{children:e.jsxs(r,{container:!0,direction:"column",justifyContent:"flex-end",sx:{minHeight:"100vh"},children:[e.jsx(r,{item:!0,xs:12,children:e.jsx(r,{container:!0,justifyContent:"center",alignItems:"center",sx:{minHeight:"calc(100vh - 68px)"},children:e.jsx(r,{item:!0,sx:{m:{xs:1,sm:3},mb:0},children:e.jsx(ee,{children:e.jsxs(r,{container:!0,spacing:2,alignItems:"center",justifyContent:"center",children:[e.jsx(r,{item:!0,sx:{mb:3},children:e.jsx(y,{to:"#","aria-label":"theme logo",children:e.jsx(Z,{})})}),e.jsx(r,{item:!0,xs:12,children:e.jsx(r,{container:!0,direction:{xs:"column-reverse",md:"row"},alignItems:"center",justifyContent:"center",children:e.jsx(r,{item:!0,children:e.jsxs(J,{alignItems:"center",justifyContent:"center",spacing:1,children:[e.jsx(l,{color:"secondary.main",gutterBottom:!0,variant:s?"h3":"h2",children:"Sign up"}),e.jsx(l,{variant:"caption",fontSize:"16px",textAlign:{xs:"center",md:"inherit"},children:"Enter your credentials to continue"})]})})})}),e.jsx(r,{item:!0,xs:12,children:e.jsx(me,{})}),e.jsx(r,{item:!0,xs:12,children:e.jsx(K,{})}),e.jsx(r,{item:!0,xs:12,children:e.jsx(r,{item:!0,container:!0,direction:"column",alignItems:"center",xs:12,children:e.jsx(l,{component:y,to:"/login",variant:"subtitle1",sx:{textDecoration:"none"},children:"Already have an account?"})})})]})})})})}),e.jsx(r,{item:!0,xs:12,sx:{m:3,mt:1},children:e.jsx(te,{})})]})})};export{we as default};
